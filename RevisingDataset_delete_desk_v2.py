from scipy import io
from matplotlib import pyplot
from mpl_toolkits.mplot3d import Axes3D
from numpy import matlib
import numpy as np
import cv2
import math
import sys
import os
import random
import shutil

arr = [
101,
211,
302,
303,
344,
356,
387,
525,
675,
1179,
1181,
1184,
1185,
1188,
1189,
1190,
1206,
1214,
1222,
1236,
1243,
1246,
1247,
1248,
1249,
1266,
1269,
1272,
1276,
1277,
1284,
1285,
1286,
1287,
1291,
1294,
1297,
1299,
1304,
1306,
1316,
1320,
1321,
1322,
1323,
1325,
1326,
1328,
1331,
1345,
1375,
1408,
1429,
1443,
1448,
1449,
1451,
1457,
1458,
1460,
1461,
1467,
1469,
1475,
1478,
1481,
1483,
1487,
1494,
1497,
1511,
1516,
1534,
1570,
1574,
1575,
1576,
1577,
1579,
1581,
1607,
1613,
1619,
1625,
1626,
1634,
1637,
1639,
1641,
1651,
1655,
1656,
1667,
1692,
1742,
1809,
1810,
1814,
1816,
1825,
1854,
1856,
1872,
1874,
1952,
1975,
1977,
1979,
1993,
2009,
2020,
2052,
2111,
2116,
2323,
2386,
2514,
2522,
2525,
2528,
2532,
2535,
2538,
2623,
2628,
2996,
3001,
3086,
3087,
3109,
3121,
3124,
3131,
3132,
3134,
3135,
3145,
3318,
3375,
3742,
3826,
3895,
3987,
3988,
4353,
4355,
4405,
4406,
4407,
4408,
4409,
4541,
4542,
4543,
4575,
4591,
4601,
4605,
4607,
4722,
4750,
4804,
4890,
5008,
5146,
5169,
5178,
5196,
5308,
5324,
5360,
5363,
5399,
5402,
5455,
5495,
5591,
5623,
5763,
5768,
5772,
5778,
5779,
5780,
5883,
6078,
73,
74,
87,
158,
162,
164,
175,
180,
186,
210,
211,
301,
302,
303,
344,
354,
355,
356,
361,
363,
364,
374,
385,
387,
458,
467,
474,
506,
516,
525,
527,
552,
584,
657,
664,
791,
800,
821,
881,
968,
974,
1030,
1039,
1046,
1058,
1059,
1096,
1107,
1168,
1172,
1173,
1174,
1177,
1179,
1180,
1181,
1183,
1184,
1185,
1186,
1187,
1188,
1189,
1190,
1191,
1192,
1194,
1195,
1196,
1199,
1200,
1201,
1202,
1203,
1204,
1206,
1207,
1211,
1213,
1214,
1216,
1220,
1221,
1222,
1223,
1228,
1230,
1231,
1232,
1233,
1235,
1236,
1241,
1242,
1243,
1244,
1245,
1246,
1247,
1248,
1249,
1250,
1251,
1252,
1253,
1254,
1256,
1257,
1260,
1262,
1263,
1264,
1265,
1266,
1267,
1268,
1269,
1270,
1271,
1272,
1274,
1275,
1276,
1277,
1278,
1279,
1280,
1281,
1282,
1283,
1284,
1285,
1286,
1287,
1288,
1289,
1290,
1291,
1292,
1293,
1294,
1295,
1296,
1297,
1298,
1299,
1302,
1303,
1304,
1305,
1306,
1307,
1308,
1309,
1310,
1311,
1312,
1315,
1316,
1318,
1320,
1321,
1322,
1323,
1324,
1325,
1326,
1327,
1328,
1329,
1330,
1331,
1344,
1345,
1375,
1386,
1387,
1405,
1406,
1407,
1408,
1425,
1427,
1429,
1430,
1443,
1444,
1445,
1446,
1447,
1448,
1449,
1450,
1451,
1452,
1453,
1457,
1458,
1460,
1461,
1462,
1463,
1464,
1466,
1467,
1469,
1470,
1471,
1472,
1473,
1474,
1475,
1476,
1477,
1478,
1479,
1480,
1481,
1482,
1483,
1484,
1486,
1487,
1491,
1492,
1493,
1494,
1497,
1503,
1505,
1506,
1507,
1508,
1509,
1510,
1511,
1514,
1515,
1516,
1517,
1518,
1519,
1520,
1521,
1522,
1534,
1536,
1539,
1551,
1557,
1558,
1559,
1561,
1565,
1569,
1570,
1573,
1574,
1575,
1576,
1577,
1578,
1579,
1580,
1581,
1606,
1607,
1608,
1609,
1610,
1612,
1613,
1614,
1615,
1616,
1617,
1618,
1619,
1620,
1621,
1622,
1623,
1624,
1625,
1626,
1627,
1628,
1629,
1630,
1631,
1632,
1633,
1634,
1635,
1636,
1637,
1638,
1639,
1640,
1641,
1642,
1644,
1646,
1647,
1648,
1649,
1650,
1651,
1652,
1654,
1655,
1657,
1658,
1659,
1670,
1692,
1693,
1695,
1697,
1699,
1700,
1703,
1707,
1717,
1735,
1739,
1742,
1743,
1761,
1807,
1809,
1810,
1811,
1812,
1813,
1814,
1815,
1816,
1824,
1825,
1847,
1856,
1870,
1935,
1936,
1937,
1952,
1968,
1973,
1974,
1975,
1976,
1977,
1978,
1979,
1980,
1981,
1982,
1983,
1984,
1986,
1987,
1992,
1993,
1994,
1995,
1997,
2001,
2004,
2009,
2011,
2014,
2015,
2017,
2019,
2020,
2045,
2046,
2048,
2050,
2052,
2109,
2111,
2112,
2113,
2114,
2116,
2117,
2118,
2119,
2122,
2123,
2166,
2290,
2323,
2324,
2386,
2475,
2514,
2517,
2518,
2519,
2520,
2521,
2522,
2523,
2524,
2526,
2528,
2529,
2530,
2531,
2532,
2533,
2534,
2535,
2536,
2538,
2539,
2623,
2628,
2742,
2744,
2797,
2798,
2985,
2996,
3000,
3001,
3073,
3074,
3075,
3086,
3087,
3088,
3108,
3109,
3110,
3113,
3114,
3118,
3119,
3120,
3121,
3122,
3123,
3124,
3125,
3126,
3130,
3131,
3132,
3133,
3134,
3135,
3139,
3145,
3147,
3318,
3360,
3374,
3375,
3378,
3380,
3381,
3386,
3418,
3461,
3478,
3669,
3709,
3744,
3748,
3764,
3765,
3878,
3892,
3895,
3906,
3987,
3988,
3990,
4035,
4036,
4121,
4148,
4319,
4323,
4335,
4353,
4355,
4356,
4360,
4361,
4402,
4404,
4405,
4406,
4407,
4408,
4409,
4410,
4411,
4416,
4442,
4443,
4462,
4464,
4465,
4540,
4541,
4542,
4543,
4568,
4569,
4575,
4576,
4577,
4591,
4601,
4606,
4607,
4608,
4609,
4610,
4621,
4633,
4683,
4687,
4722,
4723,
4726,
4735,
4740,
4741,
4745,
4750,
4751,
4773,
4791,
4804,
4890,
5008,
5040,
5146,
5147,
5148,
5149,
5169,
5170,
5175,
5177,
5178,
5180,
5183,
5184,
5185,
5187,
5188,
5193,
5195,
5196,
5266,
5268,
5286,
5288,
5303,
5324,
5334,
5341,
5345,
5346,
5360,
5363,
5375,
5380,
5382,
5386,
5387,
5388,
5389,
5399,
5400,
5402,
5439,
5455,
5456,
5460,
5495,
5498,
5581,
5591,
5595,
5599,
5618,
5623,
5685,
5720,
5721,
5728,
5732,
5733,
5752,
5755,
5759,
5763,
5764,
5765,
5767,
5768,
5771,
5772,
5774,
5776,
5778,
5779,
5780,
5801,
5850,
5857,
5883,
5924,
5925,
6090,
6146,
6423,
6470,
6476,
6478,
6479,
6481,
6498,
6517,
6520,
6521,
6522,
6523,
6524,
6564,
6598,
6600,
6602,
6618,
6619,
6654,
6692,
6694,
6699,
6704,
6709,
6713,
6714,
6715,
6716,
6718,
6719,
6720,
6721,
6726,
6727,
6729,
6826,
6896,
6917,
6918,
6919,
6986,
6987,
7002,
7020,
7044,
7048,
7104,
7116,
7117,
7143,
7144,
7145,
7146,
7147,
7148,
7149,
7152,
7154,
7155,
7156,
7157,
7158,
7159,
7160,
7161,
7162,
7164,
7165,
7166,
7167,
7168,
7169,
7170,
7171,
7172,
7178,
7179,
7183,
7190,
7191,
7192,
7193,
7195,
7196,
7197,
7198,
7202,
7203,
7204,
7205,
7206,
7207,
7208,
7248,
7249,
7250,
7251,
7330,
7331,
7333,
7334,
7338,
7343,
7344,
7443,
7583,
7591,
7774,
7776,
7779,
7800,
7865,
7877,
7884,
7911,
7919,
7921,
7922,
7923,
7924,
7925,
7926,
7927,
7928,
7929,
7930,
7931,
7936,
7942,
7943,
7944,
7946,
7947,
7948,
7949,
7950,
7954,
7960,
7961,
7962,
7963,
7969,
7972,
8055,
8061,
8066,
8070,
8074,
8083,
8084,
8085,
8159,
8162,
8352,
8353,
8354,
8355,
8356,
8357,
8358,
8359,
8360,
8361,
8362,
8363,
8366,
8367,
8368,
8369,
8370,
8371,
8372,
8373,
8482,
8487,
8488,
8489,
8519,
8554,
8556,
8557,
8559,
8573,
8581,
8583,
8584,
8594,
8595,
8599,
8604,
8644,
8650,
8671,
8698,
8732,
8753,
8802,
8882,
8912,
8929,
8932,
8947,
8949,
8951,
9048,
9120,
9203,
9218,
9219,
9307,
9308,
9309,
9313,
9329,
9330,
9331,
9367,
9369,
9384,
9388,
9393,
9394,
9395,
9396,
9409,
9411,
9463,
9464,
9465,
9566,
9622,
9625,
9626,
9627,
9628,
9629,
9630,
9631,
9633,
9637,
9642,
9643,
9644,
9646,
9650,
9656,
9661,
9664,
9668,
9669,
9674,
9679,
9691,
9692,
9693,
9712,
9814,
9863,
9875,
9877,
9878,
9879,
9881,
9913,
9970,
9999,
10002,
10008,
10126,
10188,
10191,
10192,
10200,
10202,
10204,
10231,
10233,
10248,
10249,
10252,
10261,
1224,
1643,
1645,
1653,
1676,
1853,
1871,
1954,
2012,
2018,
2080,
2120,
2738,
3084,
3115,
3127,
3128,
3137,
3138,
4889
]
r = open('/home/user/darknet-pose/data/pose_yolo_train_v4.txt', mode='rt', encoding='utf-8')
save_path_txt = ""
cnt = 0
empty_cnt = 0
splitlinestr = str.splitlines(r.read())
for str_line in splitlinestr:
    txt_path = "/home/user/darknet-pose/" + str_line[:-5] + ".txt"
    save_txt = ""

    f = open(txt_path, mode='rt')

    splitf = str.splitlines(f.read())

    # print(txt_path)
    # for line in splitf:
    #     if line[:2] == "11":
    #         print("find")
    #         pass
    #     else:
    #         save_txt += line + "\n"
    #         pass
    #     pass

    # 한 줄씩 읽어온 파일 중 빼야 하는 desk data 번호와 일치하면 desk 라벨을 뺌.
    if int(txt_path[48:-4]) in arr:
        cnt += 1
        for line in splitf:
            if line[:2] == "11":
                pass
            else:
                save_txt += line+"\n"
                pass
            pass
        pass
    else:
        for line in splitf:
            save_txt += line+"\n"
            pass
        pass

    # print(txt_path)
    # print(save_txt)

    f.close()

    img_path = txt_path[:-3] + "tiff"

    # 파일이 비어있지 않으면,
    if save_txt != "":
        # save_txt 저장.
        ff = open(txt_path, mode='wt')
        ff.write(save_txt)
        ff.close()
        save_path_txt += img_path[23:46]+"4/"+img_path[48:]+"\n"
        pass
    else:
        # print("*" + txt_path[48:-4] + "*")
        empty_cnt += 1
        # print(txt_path)
        # print(img_path)
        os.remove(txt_path)
        os.remove(img_path)
        pass
        # print("*" + txt_path[48:-4] + "*")

    pass

r.close()

print(save_path_txt)
print("cnt : ", cnt)
print("empty_cnt : ", empty_cnt)
